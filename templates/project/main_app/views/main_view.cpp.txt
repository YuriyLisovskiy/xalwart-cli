/*
 * Copyright (c) <% .Year %> <% .Username %>
 */

#include "./main_view.h"

#include <<% .FrameworkName %>/<% .FrameworkVersionSubDir %>core/types/value.h>
#include <<% .FrameworkName %>/<% .FrameworkVersionSubDir %>render/context.h>


MainView::MainView(<% .FrameworkNamespace %>::conf::Settings* settings)
	: TemplateView({"get"}, settings)
{
	this->_template_name = "main/index.html";
}

std::shared_ptr<<% .FrameworkNamespace %>::render::IContext> MainView::get_context(
	<% .FrameworkNamespace %>::http::HttpRequest* request, <% .FrameworkNamespace %>::views::Args* args
)
{
	using Context = <% .FrameworkNamespace %>::render::Context;
	return std::make_shared<Context>(Context::scope_t{{
		"user", std::make_shared<<% .FrameworkNamespace %>::core::types::Value<std::string>>("<% .Username %>")
	}});
}
